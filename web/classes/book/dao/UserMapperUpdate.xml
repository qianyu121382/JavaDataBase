<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="book.dao.UseDao">
    <update id="updateBookInfoById" parameterType="book.entity.BookInfo" >
        update bookinfo
        set bookName= #{bookName}
          , createTime=#{createTime}
          , author=#{author}
          , publish=#{publish}
          , kind=#{kind}
          , pageNum=#{pageNum}
          , price=#{price}
          , path=#{path}
        where id = #{id}
    </update>
    <update id="updateUserInfoById" parameterType="book.entity.UserInfo">
        update userInfo
        set userName=#{userName},
            realName=#{realName},
            iphone=#{iphone},
            email=#{email},
            place=#{place},
            sex=#{sex},
            image=#{image}
        where id=#{id}
    </update>
    <update id="updateBookCirculateStateById" parameterType="book.entity.Turple.IdCirState">
        update bookinfo set circulateState =#{state} where id=#{id}
    </update>
    <update id="updateCirculateAppAgreeById" parameterType="Integer">
        update circulate set state='正在流通中' where id=#{id}
    </update>
    <update id="updateCirStateById" parameterType="book.entity.Turple.IdCirState">
        update circulate set state=#{state} where id=#{id}
    </update>
    <update id="updateBorrowStateById" parameterType="book.entity.Turple.IdCirState">
        update borrow set state=#{state} where id=#{id}
    </update>
    <update id="updateBookBStateById" parameterType="book.entity.Turple.IdCirState">
        update bookinfo set borrowState=#{state} where id=#{id}
    </update>
    <update id="updateBorrowTimeById" parameterType="book.entity.Turple.IdDate">
        update borrow set returnTime=#{date} where id=#{id}
    </update>
    <update id="updateCirTimeById" parameterType="book.entity.Turple.IdDate">
        update circulate set returnTime=#{date} where id=#{id}
    </update>
    <update id="updatePwdByUserName" parameterType="book.entity.Account">
        update account set password=#{password} where userName=#{userName}
    </update>
</mapper>